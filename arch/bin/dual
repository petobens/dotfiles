#!/bin/bash

internal='LVDS1'
external='HDMI1'
connected=$(xrandr | grep '[ *]+' | wc -l)
active=$(xrandr | grep '*+' | wc -l)

if [[ $connected == 2 && ( $1 == 'init' || $active == 1 ) ]]; then
    xrandr --output "$internal" --primary --auto \
    --output "$external" --left-of "$internal" --auto
else
    xrandr --output "$external" --off --output "$internal" --auto
fi
[[ $1 != 'init' ]] && $HOME/.config/polybar/launch.sh &> /dev/null
